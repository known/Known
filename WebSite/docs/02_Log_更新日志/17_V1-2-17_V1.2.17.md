# V1.2.17

## 更新日期

- 2023-10-30

## 更新内容

- 🐛修复Access数据库用户查询问题
- 🔨优化用户信息类，移除部分属性
- 🔨优化用户列表类型栏位显示逻辑
- 😄支持Npgsql数据访问提供者
- 🔨优化角色表单权限按钮显示为名称
- 😄增加ViewLR扩展方法构造左右布局页面
- 🔨优化CheckBox样式
- 🐛[#I851VC](https://gitee.com/known/Known/issues/I851VC)修复Server模式登录页面呈现两次问题

## 详细内容

**1. 数据访问**

- 增加 Npgsql 数据访问提供者
- 项目引用包`<PackageReference Include="Npgsql" Version="7.0.6" />`

```csharp
//注册数据库访问提供者
Database.RegisterProviders(new Dictionary<string, Type>
{
    ["Npgsql"] = typeof(Npgsql.NpgsqlFactory)
});
```

**2. 视图扩展**

- RenderTreeBuilder 增加扩展方法 ViewLR

```csharp
protected override void BuildPage(RenderTreeBuilder builder)
{
    builder.ViewLR(left =>
    {
        builder.Component<Tree<SysOrganization>>()
               .Set(c => c.Data, data)
               .Set(c => c.OnItemClick, Callback<TreeItem<SysOrganization>>(OnTreeItemClick))
               .Build();
    }, right => base.BuildPage(builder));
}
```