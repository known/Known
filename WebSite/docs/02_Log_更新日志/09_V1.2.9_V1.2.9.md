# V1.2.9

## æ›´æ–°æ—¥æœŸ

- 2023-07-20

## æ›´æ–°å†…å®¹

- ğŸ”¨ä¼˜åŒ–ç™»å½•é¡µé¢æ ·å¼ï¼Œè‡ªé€‚åº”ç§»åŠ¨ç«¯
- ğŸ›ä¿®å¤å®‰è£…é¡µé¢æç¤ºæ¡†éšæœºè‰²æŠ¥é”™é—®é¢˜
- ğŸ”¨ä¼˜åŒ–æ ·å¼ï¼Œè¾¹æ¡†ã€å¤§å°ã€ä¸»è¾…é¢œè‰²ç­‰
- ğŸ˜„æ–°å¢Barcodeç»„ä»¶ï¼ŒåŸºäºJsBarcode
- ğŸ˜„æ–°å¢QRCodeç»„ä»¶ï¼ŒåŸºäºjquery.qrcode
- ğŸ”¨ä¼˜åŒ–ç»„ä»¶ä»£ç 
- ğŸ”¨ä¼˜åŒ–Contextåç«¯è¯·æ±‚æ–¹æ³•ï¼Œæ”¯æŒéWebApiè¯·æ±‚
- ğŸ˜„æ–°å¢å¤åˆ¶åˆ°å‰ªåˆ‡æ¿åŠŸèƒ½
- ğŸ˜„æ–°å¢ç‚¹å‡»æŒ‰é’®æ·»åŠ é¡µç­¾åŠŸèƒ½
- ğŸ”¨ä¼˜åŒ–ç”¨æˆ·ä¸­å¿ƒé¡µé¢å¸ƒå±€
- ğŸ˜„æ–°å¢Cascadingæ‰©å±•æ–¹æ³•ï¼Œç»„ä»¶é—´çº§è”æ“ä½œ

## è¯¦ç»†å†…å®¹

1. Barcodeç»„ä»¶

- åŸºäºJsBarcodeå®ç°
- ä½¿ç”¨H5çš„Canvaså‘ˆç°

```csharp
//é»˜è®¤é€‰é¡¹
builder.Component<Barcode>()
       .Set(c => c.Id, "barcode1")
       .Set(c => c.Value, "1234567890")
       .Build();
//è‡ªå®šä¹‰é€‰é¡¹
builder.Component<Barcode>()
       .Set(c => c.Id, "barcode2")
       .Set(c => c.Value, "1234567890")
       .Set(c => c.Option, new
       {
           Height = 50,            //é«˜åº¦
           DisplayValue = false,   //æ˜¯å¦æ˜¾ç¤ºæ¡ç å†…å®¹
           Background = "#f1f1f1", //èƒŒæ™¯é¢œè‰²
           LineColor = "#4188c8"   //çº¿æ¡é¢œè‰²
       })
       .Build();
```

![Barcode](https://foruda.gitee.com/images/1689669363664459304/0e8a1aea_14334.png "å±å¹•æˆªå›¾")

2. QRCodeç»„ä»¶

- åŸºäºjquery.qrcodeå®ç°
- ä½¿ç”¨H5çš„Canvaså‘ˆç°

```csharp
//é»˜è®¤é€‰é¡¹
builder.Component<QRCode>()
       .Set(c => c.Id, "qrcode1")
       .Set(c => c.Option, new { Text = "1234567890" })
       .Build();
//è‡ªå®šä¹‰é€‰é¡¹
builder.Component<QRCode>()
       .Set(c => c.Id, "qrcode2")
       .Set(c => c.Option, new
       {
           Text = "1234567890",    //äºŒç»´ç å†…å®¹
           Width = 180,            //å®½åº¦
           Height = 180,           //é«˜åº¦
           Background = "#f1f1f1", //èƒŒæ™¯é¢œè‰²
           Foreground = "#4188c8"  //å‰æ™¯é¢œè‰²
       })
       .Build();
```

![QRCode](https://foruda.gitee.com/images/1689669420002070087/d22384ad_14334.png "å±å¹•æˆªå›¾")

3. å¤åˆ¶åˆ°å‰ªåˆ‡æ¿

```csharp
UI.CopyToClipboard("è¿™é‡Œæ˜¯å¤åˆ¶çš„å†…å®¹");
```

4. ç‚¹å‡»æŒ‰é’®æ·»åŠ é¡µç­¾åŠŸèƒ½

- é¡µé¢Bodyä¸ºé¡µç­¾æ¨¡å¼
- ä½¿ç”¨`Context.Navigate`æ–¹æ³•æ·»åŠ é¡µç­¾

```csharp
protected override void BuildRenderTree(RenderTreeBuilder builder)
{
    //æ„å»ºæŒ‰é’®
    builder.Button("æ·»åŠ é¡µç­¾", Callback(OnAddTab), StyleType.Primary);
}

private void OnAddTab()
{
    Context.Navigate<DemoForm1>("è¡¨å•ä¸€", "fa fa-table");
}
```

5. ç”¨æˆ·ä¸­å¿ƒ

- é¡µé¢å·¦ä¾§æ”¹æˆç”¨æˆ·åŸºæœ¬ä¿¡æ¯
- é¡µé¢å³ä¾§æ”¹æˆTabså¸ƒå±€

![ç”¨æˆ·ä¸­å¿ƒ](https://foruda.gitee.com/images/1689669016168639429/700fcfd4_14334.png "å±å¹•æˆªå›¾")

6. Cascadingæ‰©å±•æ–¹æ³•

- è¯¥æ–¹æ³•å¯ç”¨äºçˆ¶å­å…³ç³»ç»„ä»¶è”åŠ¨

```csharp
class ParentComponent : BaseComponent
{
    protected override void BuildRenderTree(RenderTreeBuilder builder)
    {
        //ä½¿ç”¨çº§è”å°†çˆ¶ç»„ä»¶å¯¹è±¡thisä¼ é€’ç»™å­ç»„ä»¶
        builder.Cascading(this, b =>
        {
            b.Div("child", attr => BuildChild1(b));
            b.Div("child", attr => BuildChild2(b));
        });
    }

    internal void UpdateSomething() {}
}

class ChildComponent : BaseComponent
{
    //ä½¿ç”¨CascadingParameteræŒ‡å®šçˆ¶ç»„ä»¶å®ä¾‹
    [CascadingParameter] private ParentComponent Parent { get; set; }

    //å­ç»„ä»¶åœ¨ä»»ä½•ä½ç½®å‡å¯è®¿é—®çˆ¶ç»„ä»¶æ–¹æ³•
    private void Test()
    {
        Parent.UpdateSomething();
    }
}
```
